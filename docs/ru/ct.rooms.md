# ct.rooms

Этот объект управляет вашими комнатами и текущим видом (камерой).

## Методы и параметры

### `ct.rooms.switch(newRoom: String)`

Вызывает событие onleave последней комнаты и перемещается в новую комнату.

### `ct.rooms.clear()`

Уничтожает все существующие копии в комнате.

### `ct.room`

Текущий объект комнаты.

### `ct.rooms.templates`

Существующие комнаты, на которые можно переключиться.

### `ct.rooms.make`

Функция, вызываемая комнатой для создания своих копий, фонов и плиток при загрузке. В основном она не предназначена для использования в ct.IDE, но этот метод может использоваться для добавления копий из одной комнаты в существующую. Метод возвращает массив всех созданных копий, включая слои тайлсеты и фоны. Пример:

```js
this.interfaceCopies = ct.rooms.make.apply(ct.rooms.templates.MainInterface);
```

## Управление обзором

Вы можете управлять обзором любое время, редактируя свойства `ct.room`, перечисленные ниже. В событиях комнаты можно вместо `ct.room` использовать `this`.

### `ct.room.x`, `ct.room.y`

Текущее горизонтальное и вертикальное смещение вида.

### `ct.room.follow`

Если назначить этому параметру копию, то камера будет автоматически следовать за ней.

### `ct.room.borderX`, `ct.room.borderY`

Горизонтальная и вертикальная рамка от краёв холста, внутри которой камера ещё не перемещается за копией.

```js Пример: следование за копией
// Поместите этот код, например, в код создания вашего героя
var room = ct.room;
room.follow = this;

// Делаем рамку такой толщины, чтобы герой всегда был в центре экрана
room.borderX = room.viewWidth / 2;
room.borderY = room.viewHeight / 2;
```

### `ct.room.center`

Когда равно `true`, копия `ct.room.follow` всегда будет оставаться в середине камеры. Этот параметр имеет более высокий приоритет над `ct.room.borderX` и `ct.room.borderY`.

### `ct.room.followDrift`

Значение между 0 и 1. Определяет, как быстро комната реагирует на движение копии `ct.room.follow`. `0` означает, что передвижение камеры будет мгновенным, а значения больше нуля образуют плавное движение.

### `ct.room.followShiftX`, `ct.room.followShiftY`

Смещают камеру, чтобы она держалась выше/ниже/сбоку и т.д. от копии `ct.room.follow`.